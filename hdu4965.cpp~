/*************************************************************************
    > File Name: hdu4965.cpp
    > Author: chendi
    > Mail: chendi1995@sohu.com 
    > The compiler environment:vim + g++
    > Created Time: 2015年05月22日 星期五 17时10分26秒
 ************************************************************************/
#include<iostream>
#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<algorithm>
using namespace std;
typedef long long LL;
typedef struct
{
	int  a[6][6];
}Matrix;

int main()
{
	Matrix M;
	LL t;
	Matrix ans;
	int  A[1000][6];
	int  B[6][1000];
	int i,j;
	int n,m;
	while(scanf("%d%d",&n,&m)&&!(n==0 && m==0))
	{
		memset(M.a,0,sizeof(M.a));
		for(i=0;i<n;i++)
			for(j=0;j<m;j++)
			{
				scanf("%d",&A[i][j]);
			}
		for(i=0;i<m;i++)
			for(j=0;j<n;j++)
				scanf("%d",&B[i][j]);
		for(i=0;i<m;i++)
			for(j=0;j<m;j++)
				for(k=0;k<n;k++)
				{
					M.a[i][j]=(M.a[i][j]%6+(A[i][k]*B[k][j])%6)%6;
				}
		t=n*n-1;
		
	}
}
